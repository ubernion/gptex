<!doctype html>
<html lang="en">
<head> 
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Welcome to GPTeX</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Maven+Pro:wght@500&display=swap');

    :root {
  /* Light theme variables */
      --primary-color: #1938e7;
      --secondary-color: #FA5959;
      --gradient-start: hsl(204, 88%, 65%);
      --gradient-end: #4800ff;
      --text-color: #000000;
      --background-animation: 150s ease infinite;

    
      --dark-primary-color: #294191;
      --dark-secondary-color: #b33d3d;
      --dark-gradient-start: hsl(204, 88%, 45%);
      --dark-gradient-end: #220099;
      --dark-text-color: #ffffff;

      --overlay-dark: rgba(0, 0, 0, 0.7);
      --square-dark: #000000;

      --overlay-light: rgba(255, 255, 255, 1);
      --square-light: white;

}


    @keyframes animatedBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .background-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; /* Make sure the background container is below the content container */
}

.content-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    pointer-events: none;
    z-index: 2; /* Make sure the content container is above the background container */
}
.overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: radial-gradient(ellipse at center, transparent, var(--overlay-light) 80%);
    pointer-events: none;
}

.overlay::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: inherit;
    
}
/* Replace your existing CSS rules with the following */
body {
    font-family: 'Maven Pro', sans-serif;
    margin: 0;
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    background-size: 200% 200%;
    animation: animatedBackground var(--background-animation);
    color: var(--text-color);
    overflow: hidden; /* Prevents scrollbars from appearing */
    position: relative; /* Add this line */
}
body[data-theme="dark"] {
  background: linear-gradient(135deg, var(--dark-gradient-start), var(--dark-gradient-end));
  color: var(--dark-text-color);
}

body[data-theme="dark"] button {
  background-color: var(--dark-primary-color);
}

body[data-theme="dark"] button:hover {
  background-color: var(--dark-secondary-color);
}

body[data-theme="dark"] .card {
  background-color: #000000;
}

body[data-theme="dark"] input[type="text"],
body[data-theme="dark"] #user_input {
  background-color: #000000;
  color: var(--dark-text-color);
  border-color: #000000;
}

body[data-theme="dark"] .progress-container {
  background: #444;
}

body[data-theme="dark"] .overlay {
  background-image: radial-gradient(ellipse at center, transparent, rgba(0, 0, 0, 0.8) 80%);
}

body[data-theme="dark"] .square {
  background-color: black;
}

body[data-theme="dark"] .progress-bar {
  background: var(--dark-primary-color);
}

body[data-theme="dark"] .tooltip .tooltiptext {
  background-color: rgba(0, 0, 0, 0.9);
}

.blue-gradient {
    background-image: linear-gradient(45deg, rgba(0, 0, 255, 0.4), rgba(0, 0, 255, 0.8));
}

html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
}

#grid-container {
    display: grid;
    width: 100%;
    height: 100%;
}

.square { 
    width: 50px;
    height: 50px;
    box-sizing: border-box;
    border: 0.5px solid gray;
    background-color: rgb(255, 255, 255);
    transition: background-color 0.2s;
}

.square:hover {
    background-color: rgba(0, 0, 255, 0.5); /* Will be overwritten by JavaScript */
}

body[data-theme="dark"] .square:hover {
  background-color: #ff8c00;
}


    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }

    h1 {
      font-weight: 600;
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    p {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .card {
      background-color: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    form {
      display: flex;
      flex-direction: column;
    }

    label {
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    input[type="text"] {
      font-size: 1rem;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 1rem;
    }

    button {
    font-weight: 600;
    font-size: 1rem;
    padding: 0.5rem 1rem;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s;
    background-size: 200% 200%; /* Added for the gradient animation */
    pointer-events:all;
    background-color: var(--primary-color);
}


    button:hover {
      background-color: var(--secondary-color);
      transform: scale(1.05);
    }

    h3 {
      font-weight: 600;
      font-size: 1.5rem;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      margin-bottom: 0.5rem;
    }

    /* Add some styles for tooltips */
    .tooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 150px;
      background-color: rgba(0, 0, 0, 0.7);
      color: #fff;
      text-align: center;
      border-radius: 5px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%; /* Position the tooltip above the text */
      left: 50%;
      margin-left: -75px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    /* Add some styles for the dynamic form progress bar */
    .progress-container {
      width: 100%;
      height: 10px;
      background: #f3f3f3;
      border-radius: 5px;
      margin-bottom: 1rem;
    }

    .progress-bar {
      height: 100%;
      width: 0;
      background: var(--primary-color);
      border-radius: 5px;
    }
    .gradient-text {
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    display: inline;
}


   #user_input {
      font-size: 1rem;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 1rem;
      resize: none;
      overflow: hidden;
      min-height: 1.5em;
      max-height: 20m;
      line-height: 1.5;
      white-space: pre-wrap;
      word-wrap: break-word;
      pointer-events: all;
      }

  </style>
</head>
<body>
  <body data-theme="light">
  <div class="background-container"> <!-- Add this line for the new container -->
    <div id="grid-container"></div>
    <div class="overlay"></div>
</div>
  <div class="content-container">
    <button id="theme-toggle" class="blue-gradient">Toggle Theme</button>
    <div class="container">
      <h1>Welcome to <span class="gradient-text blue-gradient">GPTeX</span></h1>
      <div class="card">
        <p>
          GPTeX uses OpenAI's powerful GPT-4 and generates a professional-looking LaTeX typesetted pdf from your requests. Ask any questions and give detailed instructions for better results. GPTeX will make use of accurate LaTeX code for mathematical equations, proofs, or models. Experience seamless and efficient typesetting with GPTeX.
        </p>
        <form action="/generate_latex" method="post" enctype="multipart/form-data" onsubmit="copyContentToHiddenInput()">
  
          <label for="user_input">Enter your request:</label>
          <input type="hidden" id="hidden_user_input" name="user_input">
          <div class="tooltip">
            <div id="user_input" name="user_input" contenteditable="true" required></div>
            <span class="tooltiptext">For better results, detail the format you want an answer in (ex: "answer with one or more diagrams").</span>
          </div>
          <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
          </div>
          <button type="submit" onclick="startProgressBar()" class="blue-gradient">Generate LaTeX</button>
        </form>
        <h3>Example inputs:</h3>
        <ul>
          <li>Write and solve the differential equation of an arbitrary damped oscillator.</li>
          <li>List and describe the Navier-Stokes Equations.</li>
        </ul>
        <h3>Fun fact:</h3>
        <p>Did you know that LaTeX has a package called "coffee" that allows you to add simulated coffee stains to your documents? The package provides various commands for generating random or customized stains, with options for size, position, and density.</p>
      </div>
    </div>
  </div>
  
  <script>
    
    function startProgressBar() {
      var progressBar = document.getElementById("progressBar");
      var width = 1;
      var id = setInterval(frame, 10);
      function frame() {
        if (width >= 100) {
          clearInterval(id);
        } else {
          width++;
          progressBar.style.width = width + '%';
        }
      }
    }
    function copyContentToHiddenInput() {
      var userInput = document.getElementById("user_input");
      var hiddenUserInput = document.getElementById("hidden_user_input");
      hiddenUserInput.value = userInput.innerText;
}


  </script>
</body>
<script>
  
  function getRandomOpacity() {
  return Math.random() * 0.05 + 0.1;
}

function getRandomDuration() {
  return Math.random() * 1.5 + 0.1; // Random number between 0.5 and 2 seconds
}

document.addEventListener('DOMContentLoaded', () => {
  const gridContainer = document.getElementById('grid-container');
  const squareSize = 50;

  const rows = Math.floor(window.innerHeight / squareSize);
  const columns = Math.floor(window.innerWidth / squareSize);

  gridContainer.style.gridTemplateRows = `repeat(${rows}, ${squareSize}px)`;
  gridContainer.style.gridTemplateColumns = `repeat(${columns}, ${squareSize}px)`;


  for (let i = 0; i < rows * columns; i++) {
      const square = document.createElement('div');
      square.className = 'square';

      square.addEventListener('mouseover', () => {
        const randomOpacity = getRandomOpacity();
        square.style.backgroundColor = `rgba(0, 0, 255, ${randomOpacity})`;

        setTimeout(() => {
            if (document.body.getAttribute('data-theme') === 'dark') {
                square.style.backgroundColor = 'black';
            } else {
                square.style.backgroundColor = 'white';
            }
        }, getRandomDuration() * 1000);
    });


      gridContainer.appendChild(square);
  }
  
  const themeToggle = document.getElementById('theme-toggle');
  themeToggle.addEventListener('click', toggleTheme);
});

function toggleTheme() {
  const body = document.body;
  const squares = document.getElementsByClassName('square');
  const newTheme = body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
  body.setAttribute('data-theme', newTheme);

  const newSquareColor = newTheme === 'dark' ? 'black' : 'white';

  for (let i = 0; i < squares.length; i++) {
    squares[i].style.backgroundColor = newSquareColor;
  }
}



</script>
</html>

